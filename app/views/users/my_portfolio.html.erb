<h1>My portfolio</h1>
  
<div class="search-area">
    <h3>Search Stocks</h3>
</div>
<%= form_tag quote_path, remote: true, method: :get do %>
    <div class="form-group row">
      <div class="col-sm-9 no-right-padding">
        <%= text_field_tag :stock, params[:stock], placeholder: "Stock ticker symbol", autofocus: true, class: "form-control form-control-lg" %>
      </div>
      <div class="col-sm-3 no-left-padding">
        <%= button_tag type: :submit, class: "btn btn-success" do %>
          <%= fa_icon 'search 2x' %>
        <% end %>
      </div>
    </div>
  <% end %>
<div id="results">

</div>
<script>
$(document).ready(function() {
    $('#stockForm').on('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting via the browser
 
        // Serialize the form data
        var formData = $(this).serialize();
 
        $.ajax({
            url: $(this).attr('action'), // The form's action URL
            method: $(this).attr('method'), // The form's method (GET)
            data: formData,
            dataType: 'json', // Expecting JSON response
            success: function(response) {
                // Handle success - replace with your own logic
                console.log('Success:', response);
            },
            error: function(xhr, status, error) {
                // Handle error - replace with your own logic
                console.error('Error:', error);
            }
        });
    });
});
</script>
